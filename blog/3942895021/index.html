<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="referrer" content="no-referrer">

    <meta name="author" content="Zachary Block">


    <meta name="subtitle" content="这里是副标题">




<title>数据库基础 | Zachary Blog</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    
    <script src="/js/jquery.min.js"></script>
    



    
    
        
    





    <script>
    function searchToggle() {
        const width = $(document.body).width()
        if(width > 479) {
            return;
        }
        const search = $('.search');
        const searchForm = $('.form-search')

        if(!search.hasClass("mobile-search")) {
            search.addClass("mobile-search");
        } else {
            search.removeClass("mobile-search");
        } 
    }

    function search(searchInputEl, formEl, flag) {
        const path = "/" + "search.json"; // 可以在public 下查看这个search.json
        $(formEl).submit(function(e){
            e.preventDefault();
            let target = null
            if(searchInputEl == null) {
                const screenWidth = $(document.body).width();
                target = screenWidth > 479 ? $('#pc-search-input') : $('#mobile-search-input');
                console.log(target);
            } else {
                target = $(searchInputEl)
            }

            if(!flag && target.val() === '') {
                return ;
            }

            $("#u-search").fadeIn(500, function() {
                $("body > .wrapper").addClass("modal-active");

                $.ajax({
                    url: path,
                    dataType: "json",
                    beforeSend: function (xhr) {
                        $input = target.val();
                        $(".form-input").val($input);
                        const loadingBar = $('.search-loading-bar') 
                        loadingBar.css({
                            width:'100%',
                            display: 'block'
                        });
                    },
                    success: function( datas ) {
                        // console.log(datas);
                        const $resultPanel = $(".modal-body")[0];
                        let str = `<ul class="modal-results">`;
                        var keywords = $(".form-input").val().trim().toLowerCase().split(/[\s\-]+/);
                        $resultPanel.innerHTML = "";
                        let hasResult = false
                        let text = `<div class="no-result">找不到与关键词相关的内容....</div>`;

                        if ($(".form-input").val().trim().length <= 0) {
                            // 没有结果
                            $resultPanel.innerHTML = text;
                            return;
                        }
                        datas.forEach(function (data) {
                            var isMatch = true;
                            if (!data.title || data.title.trim() === '') {
                                data.title = "Untitled";
                            }
                            var data_title = data.title.trim().toLowerCase();
                            var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                            var data_url = data.url;
                            var index_title = -1;
                            var index_content = -1;
                            var first_occur = -1;
                            // only match artiles with not empty contents
                            if (data_content !== '') {
                                keywords.forEach(function (keyword, i) {
                                    index_title = data_title.indexOf(keyword);
                                    index_content = data_content.indexOf(keyword);

                                    if (index_title < 0 && index_content < 0) {
                                        isMatch = false;
                                    } else {
                                        hasResult = true
                                        if (index_content < 0) {
                                            index_content = 0;
                                        }
                                        if (i == 0) {
                                            first_occur = index_content;
                                        }
                                    }
                                });
                            } else {
                                isMatch = false;
                            }
                            // show search results
                            if (isMatch) {
                                str += `<li class='result-item'><a href='${data_url}' class='result-item-detail'> <span class="title">${data_title}</span>`;
                                var content = data.content.trim().replace(/<[^>]+>/g, "");
                                if (first_occur >= 0) {
                                    // cut out 200 characters
                                    var start = first_occur - 40;
                                    var end = first_occur + 160;

                                    if (start < 0) {
                                        start = 0;
                                    }

                                    if (start == 0) {
                                        end = 200;
                                    }

                                    if (end > content.length) {
                                        end = content.length;
                                    }

                                    var match_content = content.substring(start, end);

                                    // highlight all keywords
                                    keywords.forEach(function (keyword) {
                                        var regS = new RegExp(keyword, "gi");
                                        match_content = match_content.replace(regS, `<em class="search-keyword">${keyword}</em>`);
                                    });

                                    str += `<span class="content"> ${match_content} ...</span></a>`;
                                }
                                str += "</li>";
                            }
                        });
                        str += "</ul>";
                        if(hasResult) {
                            $resultPanel.innerHTML = str;
                        } else {
                            $resultPanel.innerHTML = text;
                        }

                    },
                    complete: function() {
                        setTimeout(() => {
                                const loadingBar = $('.search-loading-bar') 
                                loadingBar.css({
                                    width:'0%',
                                    display: 'none'
                                });
                        }, 300)
                    }
                });
            })

        });
    }

    $(document).ready(function() {
        $('.modal-close').click(function () { 
            $("#u-search").fadeOut();
            $("body > .wrapper").removeClass("modal-active")
        })

        $('.modal-overlay').click(function() {
            $("#u-search").fadeOut();
            $("body > .wrapper").removeClass("modal-active")
        })
        search(null, ".form-search", false)
        search("#u-search-modal-form .form-input", ".u-search-modal-form", true)
    })
</script>

<meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="Zachary Blog" type="application/atom+xml">
</head>

<body>
    <script>
        // this function is used to check current theme before page loaded.
        (() => {
            const currentTheme = window.localStorage && window.localStorage.getItem('theme') || '';
            const isDark = currentTheme === 'dark';
            const pagebody = document.getElementsByTagName('body')[0]
            if (isDark) {
                pagebody.classList.add('dark-theme');
                // mobile
                document.getElementById("mobile-toggle-theme").innerText = "· Dark"
            } else {
                pagebody.classList.remove('dark-theme');
                // mobile
                document.getElementById("mobile-toggle-theme").innerText = "· Light"
            }
        })();
    </script>

    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">Zachary&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                
    <div class="search ">
        <div class="search-btn" onClick="searchToggle()">
            <!-- <img src="/" class="search-btn-img" /> -->
            <i class="iconfont icon-search " ></i>
        </div>
        <form class="form-search">
            <input class="input" placeholder="搜索内容" autocomplete="off" id="pc-search-input"/>
        </form>
    </div>

                
                    <a class="menu-item" href="/archives">归档</a>
                
                    <a class="menu-item" href="/category">分类</a>
                
                    <a class="menu-item" href="/tag">标签</a>
                
                    <a class="menu-item" href="/about">关于</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">Zachary&#39;s Blog</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="navbar-mobile-right">
                    
                    
    <div class="search ">
        <div class="search-btn" onClick="searchToggle()">
            <!-- <img src="/" class="search-btn-img" /> -->
            <i class="iconfont icon-search " ></i>
        </div>
        <form class="form-search">
            <input class="input" placeholder="搜索内容" autocomplete="off" id="mobile-search-input"/>
        </form>
    </div>

                    <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
                </div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">归档</a>
                
                    <a class="menu-item" href="/category">分类</a>
                
                    <a class="menu-item" href="/tag">标签</a>
                
                    <a class="menu-item" href="/about">关于</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
            <div class="main">
                <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    var tocbot_timer;
    var DEPTH_MAX = 6; // 为 6 时展开所有
    var tocbot_default_config = {
        tocSelector: '.tocbot-list',
        contentSelector: '.post-content',
        headingSelector: 'h1, h2, h3, h4, h5',
        orderedList: false,
        scrollSmooth: true,
        onClick: extend_click,
    };

    function extend_click() {
        clearTimeout(tocbot_timer);
        tocbot_timer = setTimeout(function() {
            tocbot.refresh(obj_merge(tocbot_default_config, {
                hasInnerContainers: true
            }));
        }, 420); // 这个值是由 tocbot 源码里定义的 scrollSmoothDuration 得来的
    }

    document.ready(function() {
        tocbot.init(obj_merge(tocbot_default_config, {
            collapseDepth: 1
        }));
    });

    function expand_toc() {
        var b = document.querySelector('.tocbot-toc-expand');
        var expanded = b.getAttribute('data-expanded');
        expanded ? b.removeAttribute('data-expanded') : b.setAttribute('data-expanded', true);
        tocbot.refresh(obj_merge(tocbot_default_config, {
            collapseDepth: expanded ? 1 : DEPTH_MAX
        }));
        b.innerText = expanded ? 'Expand all' : 'Collapse all';
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

    function obj_merge(target, source) {
        for (var item in source) {
            if (source.hasOwnProperty(item)) {
                target[item] = source[item];
            }
        }
        return target;
    }
</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">数据库基础</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">Zachary Block</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">12 月 31 日&nbsp;&nbsp;17:51:00</a>
                        </span>
                    
                    
                        <span class="post-category">
                    Category:
                            
                                <a href="/categories/MySQL/">MySQL</a>
                            
                        </span>
                    
                </div>
            
        </header>

        <div class="post-content">
            <h1 id="数据库基础"><a href="#数据库基础" class="headerlink" title="数据库基础"></a>数据库基础</h1><h1 id="MySQL-数据库基本介绍"><a href="#MySQL-数据库基本介绍" class="headerlink" title="MySQL 数据库基本介绍"></a>MySQL 数据库基本介绍</h1><ul>
<li>数据库的分类<ul>
<li>磁盘管理型</li>
<li>内存管理型</li>
</ul>
</li>
<li>什么是数据库<ul>
<li>数据库(Database)是按照数据结构来组织、存储和管理数据的一个仓库</li>
<li>专业的数据库是专门对数据进行创建、访问、管理和搜索等操作，比起我们自己用文件读写的方式对数据进行管理更加方便、快速、安全</li>
</ul>
</li>
<li>数据库的作用<ul>
<li>对数据进行持久化的保存</li>
<li>方便数据的存储和查询，速度快、安全、方便</li>
<li>可以处理并发访问</li>
<li>更加安全的权限管理访问机制</li>
</ul>
</li>
<li>常见的数据库<ul>
<li>关系型数据库<ul>
<li>MySQL</li>
<li>Oracle</li>
<li>PostgreSQL</li>
<li>SqlServer</li>
</ul>
</li>
<li>非关系型数据库<ul>
<li>Redis 内存数据库</li>
<li>MongoDB 文档数据库</li>
</ul>
</li>
</ul>
</li>
<li>关于数据库的概念<ul>
<li>数据库 Databases</li>
<li>数据表 Tables</li>
<li>数据字段</li>
<li>行 row</li>
<li>列 column</li>
</ul>
</li>
</ul>
<h1 id="Windows-下安装-MySQL"><a href="#Windows-下安装-MySQL" class="headerlink" title="Windows 下安装 MySQL"></a>Windows 下安装 MySQL</h1><ol>
<li>在 MySQL 官网下载 zip 安装包（Windows x86，64bit）ZIP Archive</li>
<li>下载完成后解压，将其放到想要安装的目录下面 例如：D:\MySQL5.7\mysql-5.7.17-winx64</li>
<li>新建一个 my.ini 配置文件，内容如下：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[mysql]</span><br><span class="line">default-character-set=utf8</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">port = 3306</span><br><span class="line">basedir=D:\MySQL5.7\mysql-5.7.17-winx64</span><br><span class="line">datadir=D:\MySQL5.7\mysql-5.7.17-winx64\data</span><br><span class="line">max_connections=200</span><br><span class="line">character-set-server=utf8</span><br><span class="line">default-storage-engine=INNODB</span><br><span class="line">explicit_defaults_for_timestamp=true</span><br></pre></td></tr></table></figure>

<ol>
<li>在安装路径下新建一个空的 data 文件夹</li>
<li>以管理员身份运行 cmd，进入安装目录下的 bin 目录，执行 <strong>mysqld –initialize-insecure –user&#x3D;mysql</strong> 命令。</li>
<li>依然在管理员窗口 cmd 下运行 <strong>mysqld install</strong></li>
<li>继续执行命令 <strong>net start mysql</strong> 启动 MySQL 服务</li>
<li>修改环境变量，在环境变量中添加 <strong>D:\MySQL5.7\mysql-5.7.17-winx64\bin</strong></li>
<li>在普通的 cmd 窗口下 进入 bin 目录 执行 <strong>mysql -u root -p</strong> 命令 默认没有密码</li>
</ol>
<h1 id="Mac-下安装-MySQL"><a href="#Mac-下安装-MySQL" class="headerlink" title="Mac 下安装 MySQL"></a>Mac 下安装 MySQL</h1><h2 id="下载安装-MySQL"><a href="#下载安装-MySQL" class="headerlink" title="下载安装 MySQL"></a>下载安装 MySQL</h2><p><strong>brew install <a href="mailto:&#109;&#121;&#x73;&#113;&#x6c;&#x40;&#x35;&#46;&#55;">&#109;&#121;&#x73;&#113;&#x6c;&#x40;&#x35;&#46;&#55;</a></strong></p>
<h2 id="启动-MySQL"><a href="#启动-MySQL" class="headerlink" title="启动 MySQL"></a>启动 MySQL</h2><p><strong>sudo mysql.server start</strong></p>
<h2 id="关闭-MySQL"><a href="#关闭-MySQL" class="headerlink" title="关闭 MySQL"></a>关闭 MySQL</h2><p><strong>sudo mysql.server stop</strong></p>
<h2 id="登录-MySQL"><a href="#登录-MySQL" class="headerlink" title="登录 MySQL"></a>登录 MySQL</h2><p><strong>mysql -u root -p</strong></p>
<h1 id="认识和操作一下-MySQL-的基本命令"><a href="#认识和操作一下-MySQL-的基本命令" class="headerlink" title="认识和操作一下 MySQL 的基本命令"></a>认识和操作一下 MySQL 的基本命令</h1><h2 id="查看数据库"><a href="#查看数据库" class="headerlink" title="查看数据库"></a>查看数据库</h2><p>在登录 MySQL 之后，使用命令 <strong>show databases;</strong> 查看当前所有数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| db4                |</span><br><span class="line">| django_bbs         |</span><br><span class="line">| djangoblog         |</span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| Mysql_Pro          |</span><br><span class="line">| performance_schema |</span><br><span class="line">| students           |</span><br><span class="line">| sys                |</span><br><span class="line">+--------------------+</span><br><span class="line">9 rows in set (0.02 sec)</span><br></pre></td></tr></table></figure>

<h2 id="选择数据库"><a href="#选择数据库" class="headerlink" title="选择数据库"></a>选择数据库</h2><p>当想要选择使用某个数据库的时候使用 <strong>use XXX;</strong> 命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; use mysql;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup with -A</span><br><span class="line"></span><br><span class="line">Database changed</span><br></pre></td></tr></table></figure>

<h2 id="查看表"><a href="#查看表" class="headerlink" title="查看表"></a>查看表</h2><p>在进入一个数据库之后，可以先使用 <strong>show tables;</strong> 命令查看一下当前数据库下面所有的表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show tables;</span><br><span class="line">+------------------------------------------------------+</span><br><span class="line">| Tables_in_mysql                                      |</span><br><span class="line">+------------------------------------------------------+</span><br><span class="line">| columns_priv                                         |</span><br><span class="line">| component                                            |</span><br><span class="line">| db                                                   |</span><br><span class="line">| default_roles                                        |</span><br><span class="line">| engine_cost                                          |</span><br><span class="line">| func                                                 |</span><br><span class="line">| general_log                                          |</span><br><span class="line">| global_grants                                        |</span><br><span class="line">| gtid_executed                                        |</span><br><span class="line">| help_category                                        |</span><br><span class="line">| help_keyword                                         |</span><br><span class="line">| help_relation                                        |</span><br><span class="line">| help_topic                                           |</span><br><span class="line">| innodb_index_stats                                   |</span><br><span class="line">| innodb_table_stats                                   |</span><br><span class="line">| password_history                                     |</span><br><span class="line">| plugin                                               |</span><br><span class="line">| procs_priv                                           |</span><br><span class="line">| proxies_priv                                         |</span><br><span class="line">| replication_asynchronous_connection_failover         |</span><br><span class="line">| replication_asynchronous_connection_failover_managed |</span><br><span class="line">| role_edges                                           |</span><br><span class="line">| server_cost                                          |</span><br><span class="line">| servers                                              |</span><br><span class="line">| slave_master_info                                    |</span><br><span class="line">| slave_relay_log_info                                 |</span><br><span class="line">| slave_worker_info                                    |</span><br><span class="line">| slow_log                                             |</span><br><span class="line">| tables_priv                                          |</span><br><span class="line">| time_zone                                            |</span><br><span class="line">| time_zone_leap_second                                |</span><br><span class="line">| time_zone_name                                       |</span><br><span class="line">| time_zone_transition                                 |</span><br><span class="line">| time_zone_transition_type                            |</span><br><span class="line">| user                                                 |</span><br><span class="line">+------------------------------------------------------+</span><br><span class="line">35 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h2 id="查看表数据"><a href="#查看表数据" class="headerlink" title="查看表数据"></a>查看表数据</h2><p>想要查询表中的数据，使用 <strong>select * from XXX;</strong> 命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from user;</span><br><span class="line">+-----------+------------------+-------------+-------------+-------------+-------------+-------------+-----------+-------------+---------------+--------------+-----------+------------+-----------------+------------+------------+--------------+------------+-----------------------+------------------+--------------+-----------------+------------------+------------------+----------------+---------------------+--------------------+------------------+------------+--------------+------------------------+----------+------------------------+--------------------------+----------------------------+---------------+-------------+-----------------+----------------------+-----------------------+------------------------------------------------------------------------+------------------+-----------------------+-------------------+----------------+------------------+----------------+------------------------+---------------------+--------------------------+-----------------+</span><br><span class="line">| Host      | User             | Select_priv | Insert_priv | Update_priv | Delete_priv | Create_priv | Drop_priv | Reload_priv | Shutdown_priv | Process_priv | File_priv | Grant_priv | References_priv | Index_priv | Alter_priv | Show_db_priv | Super_priv | Create_tmp_table_priv | Lock_tables_priv | Execute_priv | Repl_slave_priv | Repl_client_priv | Create_view_priv | Show_view_priv | Create_routine_priv | Alter_routine_priv | Create_user_priv | Event_priv | Trigger_priv | Create_tablespace_priv | ssl_type | ssl_cipher             | x509_issuer              | x509_subject               | max_questions | max_updates | max_connections | max_user_connections | plugin                | authentication_string                                                  | password_expired | password_last_changed | password_lifetime | account_locked | Create_role_priv | Drop_role_priv | Password_reuse_history | Password_reuse_time | Password_require_current | User_attributes |</span><br><span class="line">+-----------+------------------+-------------+-------------+-------------+-------------+-------------+-----------+-------------+---------------+--------------+-----------+------------+-----------------+------------+------------+--------------+------------+-----------------------+------------------+--------------+-----------------+------------------+------------------+----------------+---------------------+--------------------+------------------+------------+--------------+------------------------+----------+------------------------+--------------------------+----------------------------+---------------+-------------+-----------------+----------------------+-----------------------+------------------------------------------------------------------------+------------------+-----------------------+-------------------+----------------+------------------+----------------+------------------------+---------------------+--------------------------+-----------------+</span><br><span class="line">| %         | zachary          | N           | N           | N           | N           | N           | N         | N           | N             | N            | N         | N          | N               | N          | N          | N            | N          | N                     | N                | N            | N               | N                | N                | N              | N                   | N                  | N                | N          | N            | N                      |          | NULL                   | NULL                     | NULL                       |             0 |           0 |               0 |                    0 | caching_sha2_password | $A$005$B?&lt;M[emkFiH6r2qdU1jhF3ONtn8Pjzx.2mGkUGv24EjzSFpo6J6qZzZm9 | N                | 2021-07-01 21:15:28   |              NULL | N              | N                | N              |                   NULL |                NULL | NULL                     | NULL            |</span><br><span class="line">| localhost | mysql.infoschema | Y           | N           | N           | N           | N           | N         | N           | N             | N            | N         | N          | N               | N          | N          | N            | N          | N                     | N                | N            | N               | N                | N                | N              | N                   | N                  | N                | N          | N            | N                      |          | NULL                   | NULL                     | NULL                       |             0 |           0 |               0 |                    0 | caching_sha2_password | $A$005$THISISACOMBINATIONOFINVALIDSALTANDPASSWORDTHATMUSTNEVERBRBEUSED | N                | 2021-02-16 20:09:44   |              NULL | Y              | N                | N              |                   NULL |                NULL | NULL                     | NULL            |</span><br><span class="line">| localhost | mysql.session    | N           | N           | N           | N           | N           | N         | N           | Y             | N            | N         | N          | N               | N          | N          | N            | Y          | N                     | N                | N            | N               | N                | N                | N              | N                   | N                  | N                | N          | N            | N                      |          | NULL                   | NULL                     | NULL                       |             0 |           0 |               0 |                    0 | caching_sha2_password | $A$005$THISISACOMBINATIONOFINVALIDSALTANDPASSWORDTHATMUSTNEVERBRBEUSED | N                | 2021-02-16 20:09:44   |              NULL | Y              | N                | N              |                   NULL |                NULL | NULL                     | NULL            |</span><br><span class="line">| localhost | mysql.sys        | N           | N           | N           | N           | N           | N         | N           | N             | N            | N         | N          | N               | N          | N          | N            | N          | N                     | N                | N            | N               | N                | N                | N              | N                   | N                  | N                | N          | N            | N                      |          | NULL                   | NULL                     | NULL                       |             0 |           0 |               0 |                    0 | caching_sha2_password | $A$005$THISISACOMBINATIONOFINVALIDSALTANDPASSWORDTHATMUSTNEVERBRBEUSED | N                | 2021-02-16 20:09:44   |              NULL | Y              | N                | N              |                   NULL |                NULL | NULL                     | NULL            |</span><br><span class="line">| localhost | root             | Y           | Y           | Y           | Y           | Y           | Y         | Y           | Y             | Y            | Y         | Y          | Y               | Y          | Y          | Y            | Y          | Y                     | Y                | Y            | Y               | Y                | Y                | Y              | Y                   | Y                  | Y                | Y          | Y            | Y                      |          | NULL                   | NULL                     | NULL                       |             0 |           0 |               0 |                    0 | caching_sha2_password | $A$005$[v3;mqn&#125;dytE6eHf1cnInBjCR5s.3TE1uHerOPadrzC83pYLSQCfO1y4 | N                | 2021-02-16 20:13:33   |              NULL | N              | Y                | Y              |                   NULL |                NULL | NULL                     | NULL            |</span><br><span class="line">+-----------+------------------+-------------+-------------+-------------+-------------+-------------+-----------+-------------+---------------+--------------+-----------+------------+-----------------+------------+------------+--------------+------------+-----------------------+------------------+--------------+-----------------+------------------+------------------+----------------+---------------------+--------------------+------------------+------------+--------------+------------------------+----------+------------------------+--------------------------+----------------------------+---------------+-------------+-----------------+----------------------+-----------------------+------------------------------------------------------------------------+------------------+-----------------------+-------------------+----------------+------------------+----------------+------------------------+---------------------+--------------------------+-----------------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h2 id="表数据精确查看"><a href="#表数据精确查看" class="headerlink" title="表数据精确查看"></a>表数据精确查看</h2><p>但是这样数据太多又很乱，我们可以只选择其中一部分字段 <strong>select host,user from user;</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select host,user from user;</span><br><span class="line">+-----------+------------------+</span><br><span class="line">| host      | user             |</span><br><span class="line">+-----------+------------------+</span><br><span class="line">| %         | zachary          |</span><br><span class="line">| localhost | mysql.infoschema |</span><br><span class="line">| localhost | mysql.session    |</span><br><span class="line">| localhost | mysql.sys        |</span><br><span class="line">| localhost | root             |</span><br><span class="line">+-----------+------------------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h2 id="创建自己的数据库"><a href="#创建自己的数据库" class="headerlink" title="创建自己的数据库"></a>创建自己的数据库</h2><p>使用以下格式创建自己的数据库结构 <strong>create database 库名 default charset&#x3D;utf8;</strong> 例如创建一个名为 tlxy 的数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create database tlxy default charset=utf8;</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>这是查看一下数据库，就会发现新增了一个数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| db4                |</span><br><span class="line">| django_bbs         |</span><br><span class="line">| djangoblog         |</span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| Mysql_Pro          |</span><br><span class="line">| performance_schema |</span><br><span class="line">| students           |</span><br><span class="line">| sys                |</span><br><span class="line">| tlxy               |</span><br><span class="line">+--------------------+</span><br><span class="line">10 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h2 id="创建自己的数据表"><a href="#创建自己的数据表" class="headerlink" title="创建自己的数据表"></a>创建自己的数据表</h2><p>首先进入自己创建的数据库 <strong>use XXX;</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; use tlxy;</span><br><span class="line">Database changed</span><br></pre></td></tr></table></figure>

<p>然后使用以下格式创建自己想要的表结构 create table 表名(字段名 类型 字段约束，字段名 类型 字段约束，字段名 类型 字段约束，)engine&#x3D;&#x3D;innodb default charset&#x3D;utf8;</p>
<p>例如创建一个 user 表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">create table user(</span><br><span class="line">    name varchar(20),</span><br><span class="line">    age int,</span><br><span class="line">    gender char(1)</span><br><span class="line">)engine=innodb default charset=utf8;</span><br><span class="line">Query OK, 0 rows affected, 1 warning (0.02 sec)</span><br></pre></td></tr></table></figure>

<p>查看一下是否创建成功</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show tables;</span><br><span class="line">+----------------+</span><br><span class="line">| Tables_in_tlxy |</span><br><span class="line">+----------------+</span><br><span class="line">| user           |</span><br><span class="line">+----------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h2 id="显示表的字段结构"><a href="#显示表的字段结构" class="headerlink" title="显示表的字段结构"></a>显示表的字段结构</h2><p>可以使用 <strong>desc XXX;</strong> 查看表的字段结构</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; desc user;</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field  | Type        | Null | Key | Default | Extra |</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">| name   | varchar(20) | YES  |     | NULL    |       |</span><br><span class="line">| age    | int         | YES  |     | NULL    |       |</span><br><span class="line">| gender | char(1)     | YES  |     | NULL    |       |</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">3 rows in set (0.01 sec)</span><br></pre></td></tr></table></figure>

<h2 id="往表中添加数据"><a href="#往表中添加数据" class="headerlink" title="往表中添加数据"></a>往表中添加数据</h2><p>使用以下格式对已经创建好的表进行数据添加 <strong>insert into 表名(字段 1,字段 2,…) values(v1,v2,…)</strong></p>
<p>例如，插入如下信息</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; insert into user(name,age,gender) values(&#x27;admin&#x27;,24,&#x27;男&#x27;);</span><br><span class="line">Query OK, 1 row affected (0.01 sec)</span><br></pre></td></tr></table></figure>

<p>查看一下表中数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from user;</span><br><span class="line">+-------+------+--------+</span><br><span class="line">| name  | age  | gender |</span><br><span class="line">+-------+------+--------+</span><br><span class="line">| admin |   24 | 男     |</span><br><span class="line">+-------+------+--------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; insert into user(name,age,gender) values(&#x27;duan&#x27;,24,&#x27;女&#x27;);</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from user;</span><br><span class="line">+-------+------+--------+</span><br><span class="line">| name  | age  | gender |</span><br><span class="line">+-------+------+--------+</span><br><span class="line">| admin |   24 | 男     |</span><br><span class="line">| duan  |   24 | 女     |</span><br><span class="line">+-------+------+--------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h1 id="MySQL-基础操作命令"><a href="#MySQL-基础操作命令" class="headerlink" title="MySQL 基础操作命令"></a>MySQL 基础操作命令</h1><p>使用方法： 方式一：通过在命令行敲命令来操作（有助于命令的掌握） 方式二：通过图形界面工具，如 Navicat 等（在熟练掌握后在使用） 方式三：通过编程语言执行 MySQL 命令</p>
<p><strong>SQL（Structure query language）结构化查询语言</strong></p>
<p>SQL 语言分为 4 个部分：DDL(定义)、DML(操作)、DQL(查询)、DCL(控制)</p>
<p><strong>SQL 语句中的快捷键</strong></p>
<p>\G 格式化输出（文本式，竖立显示） \s 查看服务器端信息 \c 结束命令输入操作 \q 退出当前 sql 命令行模式 \h 查看帮助</p>
<h2 id="操作数据库的步骤"><a href="#操作数据库的步骤" class="headerlink" title="操作数据库的步骤"></a>操作数据库的步骤</h2><p><strong>连接、打开库、操作、关闭退出</strong></p>
<h3 id="1-通过命令行连接-MySQL"><a href="#1-通过命令行连接-MySQL" class="headerlink" title="1. 通过命令行连接 MySQL"></a>1. 通过命令行连接 MySQL</h3><p><strong>mysql -h localhost -u root -p</strong></p>
<p>-h 跟服务器地址 -u 为要登录的账号 -p 为密码 -P 为端口号</p>
<h3 id="2-数据库操作"><a href="#2-数据库操作" class="headerlink" title="2. 数据库操作"></a>2. 数据库操作</h3><p>查看数据库 <strong>show databases;</strong> 创建数据库 <strong>create database 库名 default charset&#x3D;utf8;</strong> 删除数据库 <strong>drop database 库名;</strong> 打开数据库 <strong>use 库名;</strong></p>
<h3 id="3-数据表操作"><a href="#3-数据表操作" class="headerlink" title="3. 数据表操作"></a>3. 数据表操作</h3><p>数据库管理系统中，可以有很多个库，每个库可以有很多个数据表</p>
<p>查看表 <strong>show tables;</strong> 创建表 <strong>create table 表名(字段名 1 类型, 字段名 2 类型)engine&#x3D;innodb default charset&#x3D;utf8;</strong></p>
<p>创建表的时候，如果表不存在就执行这一条，如果表不存在就不执行这一条命令 <strong>create table if not exists 表名(字段名 1 类型, 字段名 2 类型)engine&#x3D;innodb default charset&#x3D;utf8;</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> if <span class="keyword">not</span> <span class="keyword">exists</span> users(</span><br><span class="line">  id <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">  name <span class="type">varchar</span>(<span class="number">4</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">  age tinyint,</span><br><span class="line">  gender enum(<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;女&#x27;</span>)</span><br><span class="line">)engine<span class="operator">=</span>innodb <span class="keyword">default</span> charset<span class="operator">=</span>utf8;</span><br></pre></td></tr></table></figure>

<p>删除表 <strong>drop table 表名;</strong> 表结构 <strong>desc 表名;</strong> 查看建表语句 <strong>show create table 表名;</strong></p>
<h3 id="4-数据操作-增删改查——CRUD"><a href="#4-数据操作-增删改查——CRUD" class="headerlink" title="4. 数据操作 增删改查——CRUD"></a>4. 数据操作 增删改查——CRUD</h3><p>插入 <strong>insert into 表名(字段 1,字段 2,字段 3) values(值 1,值 2,值 3);**<strong>insert into 表名(字段 1,字段 2,字段 3) values(a 值 1,a 值 2,a 值 3), (b 值 1,b 值 2,b 值 3);*</strong>*insert into 表名 values(值 1,值 2,值 3);</strong></p>
<p>查询 <strong>select * from 表名;**</strong>********select 字段 1,字段 2,字段 3 from 表名;**</p>
<p>修改 <strong>update 表名 set 字段&#x3D;某个值 where 条件;**<strong>update 表名 set 字段 1&#x3D;值 1,字段 2&#x3D;值 2 where 条件;*</strong>*update 表名 set 字段&#x3D;字段+值 where 条件;</strong></p>
<p>删除 <strong>delete from 表名 where 字段&#x3D;某个值</strong></p>
<h3 id="5-退出-MySQL"><a href="#5-退出-MySQL" class="headerlink" title="5. 退出 MySQL"></a>5. 退出 MySQL</h3><p><strong>exit;**</strong>********quit;**</p>
<h1 id="MySQL-的基本常用数据类型"><a href="#MySQL-的基本常用数据类型" class="headerlink" title="MySQL 的基本常用数据类型"></a>MySQL 的基本常用数据类型</h1><p>数据类型：整型、浮点型、字符串、日期等</p>
<h2 id="1-字符串数据类型"><a href="#1-字符串数据类型" class="headerlink" title="1. 字符串数据类型"></a>1. 字符串数据类型</h2><p>最常用的数据类型，可以用来存储名字、地址、电话、邮编</p>
<ul>
<li>**定长串****CHAR**</li>
</ul>
<ol>
<li>接收长度固定的字符串，其长度是在创建表的时候指定的</li>
<li>指定长度后，就会分配固定的存储空间用于存放数据，如 CHAR(7)不管实际插入多少字符，都会占用 7 个字符位置</li>
</ol>
<ul>
<li>**变长串****VARCHAR**</li>
</ul>
<p>VARCHAR(7) 如果实际插入 4 个字符，那么它只占 4 个字符位置，当然长度不能超过 7 个字符</p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>CHAR</td>
<td>1~255 个字符的定长串。它的长度必须在创建时指定，否则 MySQL 假定为 CHAR(1)</td>
</tr>
<tr>
<td>ENUM</td>
<td>接受最多 64K 个串组成的一个预定义集合的某个串</td>
</tr>
<tr>
<td>LONGTEXT</td>
<td>与 TEXT 相同，但最大长度为 4GB</td>
</tr>
<tr>
<td>MEDIUMTEXT</td>
<td>与 TEXT 相同，但最大长度为 16K</td>
</tr>
<tr>
<td>SET</td>
<td>接受最多 64 个串组成的一个预定义集合的零个或多个串</td>
</tr>
<tr>
<td>TEXT</td>
<td>最大长度为 64K 的变长文本</td>
</tr>
<tr>
<td>TINYTEXT</td>
<td>与 TEXT 相同，但最大长度为 255 字节</td>
</tr>
<tr>
<td>VARCHAR</td>
<td>长度可变，最多不超过 255 字节。如果在创建时指定为 VARCHAR(n)，则可以存储 0 到 n 个字符的变长串（其中 n≤255）</td>
</tr>
</tbody></table>
<h2 id="2-数值类型"><a href="#2-数值类型" class="headerlink" title="2. 数值类型"></a>2. 数值类型</h2><table>
<thead>
<tr>
<th>数据类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>BIT</td>
<td>位字段，1~64 位（在 MySQL5 之前，BIT 在功能上等价于 TINYINT）</td>
</tr>
<tr>
<td>BIGINT</td>
<td>整数值，支持 -9223372036854775808~~~~~~9223372036854775807（如果是 UNSIGNED,为 0~~18446744073709551615）的数</td>
</tr>
<tr>
<td>BOOLEAN(BOOL)</td>
<td>布尔标志，或者为 0 或者为 1，主要用于开关（on&#x2F;off）标志</td>
</tr>
<tr>
<td>DECIMAL(DEC)</td>
<td>精度可变的浮点值</td>
</tr>
<tr>
<td>DOUBLE</td>
<td>双精度浮点值</td>
</tr>
<tr>
<td>FLOAT</td>
<td>单精度浮点值</td>
</tr>
<tr>
<td>INT(INTEGER)</td>
<td>整数值，支持-2147483648~~~~~~2147483647（如果是 UNSIGNED，为 0~~4294967295）的数</td>
</tr>
<tr>
<td>MEDIUMINT</td>
<td>整数值，支持-8388608~~~~~~8388607（如果是 UNSIGNED，为 0~~16777215）的数</td>
</tr>
<tr>
<td>REAL</td>
<td>4 字节的浮点值</td>
</tr>
<tr>
<td>SMALLINT</td>
<td>整数值，支持-32768~~~~~~32767（如果是 UNSIGNED，0~~65535）的数</td>
</tr>
<tr>
<td>TINYINT</td>
<td>整数值，支持-128~~~~~~127（如果是 UNSIGNED，为 0~~255）的数</td>
</tr>
</tbody></table>
<p>decimal(5,2) 表示数值总共 5 位，小数 2 位 tinyint 1 字节（8 位） int 4 字节（32 位）</p>
<h2 id="3-日期和时间类型"><a href="#3-日期和时间类型" class="headerlink" title="3. 日期和时间类型"></a>3. 日期和时间类型</h2><table>
<thead>
<tr>
<th>数据类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>DATE</td>
<td>表示 1000-01-01~9999-12-31 的日期，格式为 YYYY-MM-DD</td>
</tr>
<tr>
<td>DATETIME</td>
<td>DATE 和 TIME 的组合</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>功能和 DATETIME 相同，范围更小</td>
</tr>
<tr>
<td>TIME</td>
<td>格式为 HH:MM:SS</td>
</tr>
<tr>
<td>YEAR</td>
<td>用 2 位数字表示，范围是 70（1970 年）~~~~~~69（2069 年），用 4 位数字表示，范围是 1901 年~~2155 年</td>
</tr>
</tbody></table>
<p>练习 首先在 tlxy 数据库下创建了上面的 users 表格，相对的插入一些数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; insert into users(name,age,gender) values(&#x27;段段&#x27;,22, &#x27;女&#x27;),(&#x27;黄黄&#x27;,23,&#x27; 男&#x27;),(&#x27;图图&#x27;,1,&#x27;女&#x27;);</span><br><span class="line">Query OK, 3 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from users;</span><br><span class="line">+----+--------+------+--------+</span><br><span class="line">| id | name   | age  | gender |</span><br><span class="line">+----+--------+------+--------+</span><br><span class="line">|  1 | 段段   |   22 | 女     |</span><br><span class="line">|  2 | 黄黄   |   23 | 男     |</span><br><span class="line">|  3 | 图图   |    1 | 女     |</span><br><span class="line">+----+--------+------+--------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; update users set age=24 where name=&#x27;段段&#x27;;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line">Rows matched: 1  Changed: 1  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from users;</span><br><span class="line">+----+--------+------+--------+</span><br><span class="line">| id | name   | age  | gender |</span><br><span class="line">+----+--------+------+--------+</span><br><span class="line">|  1 | 段段   |   24 | 女     |</span><br><span class="line">|  2 | 黄黄   |   23 | 男     |</span><br><span class="line">|  3 | 图图   |    1 | 女     |</span><br><span class="line">+----+--------+------+--------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h1 id="MySQL-的数据类型约束和主键"><a href="#MySQL-的数据类型约束和主键" class="headerlink" title="MySQL 的数据类型约束和主键"></a>MySQL 的数据类型约束和主键</h1><h2 id="表的字段约束"><a href="#表的字段约束" class="headerlink" title="表的字段约束"></a>表的字段约束</h2><ul>
<li><strong>unsigned</strong> 无符号(给数值类型使用，表示为正数，不写表示正负数都可以)</li>
<li>字段后面加括号，可以限制宽度<ul>
<li>char(5)、varchar(7) 在字符后面加限制表示字符串的长度</li>
<li>int(4) 没有意义，默认无符号的 int 为 int(11)，有符号 int(10)</li>
<li>int(4) 只有在设置了前导零的时候才有意义，如 int(4) unsigned zerofill</li>
</ul>
</li>
<li><strong>not null</strong> 不能为空，在操作数据库的时候，如果输入该字段数据为空的时候就会报错</li>
<li><strong>default</strong> 设置默认值</li>
<li><strong>primary key</strong> 主键，不能为空 并且唯一，一般和自动递增配合使用</li>
<li><strong>auto_increment</strong> 定义列为自增属性，一般用于主键，数值会自动加 1</li>
<li><strong>unique</strong> 唯一索引（数据不能重复：用户名），可以增加查询速度，但是会降低插入和更新速度</li>
</ul>
<h2 id="MySQL-的运算符"><a href="#MySQL-的运算符" class="headerlink" title="MySQL 的运算符"></a>MySQL 的运算符</h2><ul>
<li>算术运算符： <strong>+**<strong>、*</strong>*-**<strong>、*</strong>****<strong>、*</strong>*&#x2F;</strong>***<strong>* 、</strong>******%**</li>
<li>比较运算符： <strong>&#x3D;**<strong>、*</strong>*＞**<strong>、*</strong>*＜**<strong>、*</strong>*＞&#x3D;**<strong>、*</strong>*＜&#x3D;**<strong>、*</strong>*!&#x3D;</strong></li>
<li>数据库特有的比较： <strong>in**<strong>、*</strong>*not in**<strong>、*</strong>*is null**<strong>、*</strong>*is not null**<strong>、*</strong>*like**<strong>、*</strong>*between**<strong>、*</strong>*and</strong></li>
<li>逻辑运算符： <strong>and**<strong>、*</strong>*or**<strong>、*</strong>*not</strong></li>
<li><strong>like</strong> 支持特殊符号 <strong>%**<strong>、*</strong>*_</strong> ，用于模糊搜索<ul>
<li><strong>%</strong> ： 可以表示任意数量的任意字符</li>
<li><strong>_</strong> ： 表示任意一位字符</li>
<li>例如： <strong>select * from users where name like ‘_段’;</strong></li>
</ul>
</li>
</ul>
<h2 id="主键"><a href="#主键" class="headerlink" title="主键"></a>主键</h2><p>表中的每一行应该都有可以唯一标识自己的一列，用于记录两条不重复的记录，任意两行都不具有相同的主键值，便于后续的数据操纵和管理</p>
<p>要求：</p>
<ul>
<li>一旦插入表中，不要更改</li>
<li>不允许 NULL</li>
<li>不在主键列中使用可能会被更改的值</li>
<li>自增整数类型</li>
<li>可以使用多个列作为联合主键，但联合主键并不常用，实用多列作为主键时，所有列值的组合必须是唯一的</li>
</ul>
<h1 id="MySQL-数据库与数据表操作-数据表结构的修改"><a href="#MySQL-数据库与数据表操作-数据表结构的修改" class="headerlink" title="MySQL 数据库与数据表操作 数据表结构的修改"></a>MySQL 数据库与数据表操作 数据表结构的修改</h1><p>再来复习一次叭</p>
<h2 id="创建一个数据库的流程"><a href="#创建一个数据库的流程" class="headerlink" title="创建一个数据库的流程"></a>创建一个数据库的流程</h2><h3 id="1-数据库的创建"><a href="#1-数据库的创建" class="headerlink" title="1.数据库的创建"></a>1.数据库的创建</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 链接MySQL数据库后，进入MySQL后可以操作数据</span><br><span class="line"></span><br><span class="line"># 1. 创建库</span><br><span class="line">create database if not exists tlxy default charset=utf8;</span><br><span class="line"></span><br><span class="line">-- 1. 数据库 tlxy 如果不存在则创建数据库，存在则不创建</span><br><span class="line">-- 2. 创建 tlxy 数据库，并设置字符集为utf8</span><br><span class="line">-- 3. 无特殊情况都要求字符集为utf8或者utf8mb4的字符编码</span><br></pre></td></tr></table></figure>

<h3 id="2-查看数据库"><a href="#2-查看数据库" class="headerlink" title="2.查看数据库"></a>2.查看数据库</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 1.查看所有数据库</span><br><span class="line">show databases;</span><br></pre></td></tr></table></figure>

<h3 id="3-打卡库、进入库、选择库"><a href="#3-打卡库、进入库、选择库" class="headerlink" title="3.打卡库、进入库、选择库"></a>3.打卡库、进入库、选择库</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># use 库名</span><br><span class="line">use tlxy;</span><br></pre></td></tr></table></figure>

<h3 id="4-删除库"><a href="#4-删除库" class="headerlink" title="4.删除库"></a>4.删除库</h3><p>删库有风险</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 删除库 库中所有的数据都在磁盘中被删除</span><br><span class="line">drop database 库名</span><br></pre></td></tr></table></figure>

<h2 id="在库中操作表的流程"><a href="#在库中操作表的流程" class="headerlink" title="在库中操作表的流程"></a>在库中操作表的流程</h2><h3 id="1-创建表"><a href="#1-创建表" class="headerlink" title="1.创建表"></a>1.创建表</h3><p>语法格式为 <strong>create table 表名(字段名, 类型, 【字段约束】, …)</strong></p>
<p>实例</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 创建一个 users 表</span><br><span class="line">create table users(</span><br><span class="line">    -- 创建ID字段，为正整数，不允许为空 主键，自动递增</span><br><span class="line">    id INT UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT,</span><br><span class="line">    -- 创建 存储 名字的字段 为字符串类型，最大长度五个字符，不允许为空</span><br><span class="line">    username VARCHAR(5) NOT NULL,</span><br><span class="line">    -- 创建 存储 密码的字段， 固定长度为32位字符，不允许为空</span><br><span class="line">    password CHAR(32) NOT NULL,</span><br><span class="line">    -- 创建 年龄 字段，不允许为空， 默认值为20</span><br><span class="line">    age TINYINT UNSIGNED NOT NULL DEFAULT 20</span><br><span class="line">)engine=innodb default charset=utf8;</span><br><span class="line"></span><br><span class="line"># 查看表结构</span><br><span class="line">desc users;</span><br><span class="line"></span><br><span class="line"># 查看建表语句</span><br><span class="line">show create table users;</span><br></pre></td></tr></table></figure>

<p>在这里的 password 使用的是 char(32)位字符，这是因为在数据库中 md5 的加密方式，不管密码多大加密的结果都是 32 位</p>
<p>创建表的原则</p>
<p>表名和字段名 尽可能的符合命名规范 并且最好能够见名知意 表中数据必须有唯一标识，即主键。无特殊情况，都为数字并自增即可 表中字段所对应的类型设置合理，并限制合理长度 表引擎推荐使用 innodb，无特殊情况都要求字符集为 utf8 或者 utf8mb4 的字符编码</p>
<h3 id="2-修改表结构"><a href="#2-修改表结构" class="headerlink" title="2.修改表结构"></a>2.修改表结构</h3><p>语法格式为 <strong>alter table 表名 action(更改的选项)</strong></p>
<p>实例</p>
<h4 id="添加字段"><a href="#添加字段" class="headerlink" title="添加字段"></a>添加字段</h4><p>语法： <strong>alter table 表名 add 添加的字段信息</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-- 在 users 中 追加一个 num 字段</span><br><span class="line">alter table users add num int not null;</span><br><span class="line"></span><br><span class="line">-- 在 指定字段后 users 中 age字段后面 添加一个 email字段</span><br><span class="line">alter table users add email varchar(50) after age;</span><br><span class="line"></span><br><span class="line">-- 在 指定字段后 users 中 email字段后 添加一个 phone字段</span><br><span class="line">alter table users add phone char(11) not null after age;</span><br><span class="line"></span><br><span class="line">-- 在 表的最前面添加一个字段</span><br><span class="line">alter table users add title int first;</span><br></pre></td></tr></table></figure>

<h4 id="删除字段"><a href="#删除字段" class="headerlink" title="删除字段"></a>删除字段</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 删除字段 alter table 表名 drop 被删除的字段名</span><br><span class="line">alter table users drop title;</span><br></pre></td></tr></table></figure>

<h4 id="修改字段"><a href="#修改字段" class="headerlink" title="修改字段"></a>修改字段</h4><p>语法格式 alter table 表名 change|modify 被修改的字段信息&#96;&#96;change：可以修改字段名 modify：不能修改字段名</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 修改表中的 num 字段 类型</span><br><span class="line">alter table users modify num tinyint not null default 12;</span><br><span class="line"></span><br><span class="line"># 修改表中的 num 字段 为 int 类型 并且字段名更新为number</span><br><span class="line">alter table users change num mm int;</span><br></pre></td></tr></table></figure>

<h3 id="3-修改表名"><a href="#3-修改表名" class="headerlink" title="3.修改表名"></a>3.修改表名</h3><p>语法格式 alter table 原表名 rename as 新表名;</p>
<h3 id="4-更改表中的自增的值"><a href="#4-更改表中的自增的值" class="headerlink" title="4.更改表中的自增的值"></a>4.更改表中的自增的值</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 在常规情况下，auto_increment默认从1开始继续递增</span><br><span class="line">alter table users auto_increment = 1000;</span><br></pre></td></tr></table></figure>

<h3 id="5-修改表引擎"><a href="#5-修改表引擎" class="headerlink" title="5.修改表引擎"></a>5.修改表引擎</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"># 推荐在定义表时候，表引擎为innodb</span><br><span class="line"></span><br><span class="line"># 可以使用建表语句来查看当前表引擎</span><br><span class="line"></span><br><span class="line">mysql&gt; show create table users\G;</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">       Table: users</span><br><span class="line">Create Table: CREATE TABLE `users` (</span><br><span class="line">  `id` int NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `name` varchar(4) NOT NULL,</span><br><span class="line">  `age` tinyint DEFAULT NULL,</span><br><span class="line">  `gender` enum(&#x27;男&#x27;,&#x27;女&#x27;) DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (`id`)</span><br><span class="line">) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">ERROR:</span><br><span class="line">No query specified</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 直接查看当前表引擎</span><br><span class="line">mysql&gt; show table status from tlxy where name = &#x27;users&#x27;\G;</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">           Name: users</span><br><span class="line">         Engine: InnoDB</span><br><span class="line">        Version: 10</span><br><span class="line">     Row_format: Dynamic</span><br><span class="line">           Rows: 3</span><br><span class="line"> Avg_row_length: 5461</span><br><span class="line">    Data_length: 16384</span><br><span class="line">Max_data_length: 0</span><br><span class="line">   Index_length: 0</span><br><span class="line">      Data_free: 0</span><br><span class="line"> Auto_increment: 4</span><br><span class="line">    Create_time: 2022-04-10 16:10:12</span><br><span class="line">    Update_time: NULL</span><br><span class="line">     Check_time: NULL</span><br><span class="line">      Collation: utf8_general_ci</span><br><span class="line">       Checksum: NULL</span><br><span class="line"> Create_options:</span><br><span class="line">        Comment:</span><br><span class="line">1 row in set (0.01 sec)</span><br><span class="line"></span><br><span class="line">ERROR:</span><br><span class="line">No query specified</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 修改表引擎语句</span><br><span class="line">alter table users engine = &#x27;myisam&#x27;;</span><br></pre></td></tr></table></figure>

<h3 id="6-删除表"><a href="#6-删除表" class="headerlink" title="6.删除表"></a>6.删除表</h3><p>语法格式 <strong>drop table 表名;</strong></p>
<h1 id="详解-MySQL-存储引擎"><a href="#详解-MySQL-存储引擎" class="headerlink" title="详解 MySQL 存储引擎"></a>详解 MySQL 存储引擎</h1><h2 id="客户端向服务器发送的各类增删查改的请求"><a href="#客户端向服务器发送的各类增删查改的请求" class="headerlink" title="客户端向服务器发送的各类增删查改的请求"></a>客户端向服务器发送的各类增删查改的请求</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">A[客户端] --&gt; B(处理连接)</span><br><span class="line">B --&gt; C(查询缓存)</span><br><span class="line">C --&gt; D(语法解析)</span><br><span class="line">D --&gt; E&#123;查询优化&#125;</span><br><span class="line">E --&gt; F[MyISAM]</span><br><span class="line">E --&gt; G[InnoDB]</span><br><span class="line">E --&gt; H[Memory]</span><br><span class="line">E --&gt; I[...]</span><br><span class="line">G --&gt; J(文件系统)</span><br></pre></td></tr></table></figure>

<p>MySQL 服务器把数据的存储和提取都封装到了一个叫存储引擎的模块里。我们知道表是由一行一行的记录组成，但这只是一个逻辑上的概念，物理上如何表示记录，怎么从表中读取数据，怎么把数据写入具体的物理存储器上，这都是存储引擎负责的事情。为了实现不同的功能，MySQL 提供了各式各样的存储引擎，不同的存储引擎管理的表具体的存储结构可能不同，采用的存取算法也可能不同。</p>
<h2 id="存储引擎"><a href="#存储引擎" class="headerlink" title="存储引擎"></a>存储引擎</h2><p>存储引擎以前叫做表处理器，它的功能就是接收上层传下来的指令，然后对表中的数据进行提取或写入操作。</p>
<p>为了管理方便，人们把 连接管理、查询缓存、语法解析、查询优化这些并不涉及在真实数据存储的功能划分为 MySQL server 的功能，把真实存储数据的功能划分为存储引擎的功能。各种不同的存储引擎向上边的 MySQL server 层提供统一的调用接口（即 存储引擎 API），包含了几十个底层函数，像“读取索引第一条内容”、“读取索引下一条内容”、“插入记录”等等。</p>
<p>所以在 MySQL server 完成了查询优化之后，只需要按照生成的执行计划调用底层存储引擎提供的 API，获取到数据后返回给客户端就好啦</p>
<p>MySQL 支持非常多种存储引擎</p>
<table>
<thead>
<tr>
<th>存储引擎</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>ARCHIVE</td>
<td>用于数据存档（行被插入后不能修改）</td>
</tr>
<tr>
<td>BLACKHOLE</td>
<td>丢弃写操作，读操作会返回空内容</td>
</tr>
<tr>
<td>CSV</td>
<td>在存储数据时，以逗号分隔各个数据项</td>
</tr>
<tr>
<td>FEDERATED</td>
<td>用来访问远程表</td>
</tr>
<tr>
<td>InnoDB</td>
<td>具备外键支持功能的事务存储引擎</td>
</tr>
<tr>
<td>MEMORY</td>
<td>置于内存的表</td>
</tr>
<tr>
<td>MERGE</td>
<td>用来管理多个 MyISAM 表构成的表集合</td>
</tr>
<tr>
<td>MyISAM</td>
<td>主要的非事务处理存储引擎</td>
</tr>
<tr>
<td>NDB</td>
<td>MySQL 集群专用存储引擎</td>
</tr>
</tbody></table>
<h2 id="MyISAM-和-InnoDB-表引擎的区别"><a href="#MyISAM-和-InnoDB-表引擎的区别" class="headerlink" title="MyISAM 和 InnoDB 表引擎的区别"></a>MyISAM 和 InnoDB 表引擎的区别</h2><h3 id="1-事务支持"><a href="#1-事务支持" class="headerlink" title="1)事务支持"></a>1)事务支持</h3><p>MyISAM 不支持事务操作，而 InnoDB 支持</p>
<p>事务：访问并更新数据库中数据的执行单元，事务操作中，要么都执行要么都不执行</p>
<p>举个例子，黄黄给段段转钱，执行的语句是 黄黄扣钱，然后段段增加钱；那么如果发生了服务器断电的事件，因为有事务这一特性不会造成，黄黄扣钱之后，段段也没有增加钱这样的情况。</p>
<h3 id="2-存储结构"><a href="#2-存储结构" class="headerlink" title="2)存储结构"></a>2)存储结构</h3><p>MyISAM：每个 MyISAM 在磁盘上存储成三个文件</p>
<ul>
<li>.frm 文件 存储表结构</li>
<li>.MYD 文件 存储数据</li>
<li>.MYI 文件 存储索引</li>
</ul>
<p>InnoDB：主要分为两种文件进行存储</p>
<ul>
<li>.frm 存储表结构</li>
<li>.ibd 存储数据和索引（也可能是多个.ibd 文件，或者是独立的表空间文件）</li>
</ul>
<h3 id="3-表锁差异"><a href="#3-表锁差异" class="headerlink" title="3)表锁差异"></a>3)表锁差异</h3><p>MyISAM：<strong>只支持表级锁</strong>，用户在操作 MyISAM 表时，select、update，delete，insert 语句都会给表自动加锁，如果加锁以后的表满足 insert 并发的情况下，可以在表的尾部插入新的数据。</p>
<p>InnoDB：<strong>支持事务和行级锁，是 InnoDB 的最大特色</strong>，行锁大幅度提高了多用户并发操作的性能，但是 InnoDB 的行锁，只是在 WHERE 的主键是有效的，而非主键的 WHERE 都会锁全表的。</p>
<h3 id="4-表主键"><a href="#4-表主键" class="headerlink" title="4)表主键"></a>4)表主键</h3><p>MyISAM：允许没有任何索引和主键的表存在，索引都是保存行的地址 InnoDB：如果没有设定主键或者非空唯一索引，就会自动生成一个 6 字节的主键（用户不可见），数据是主索引的一部分，附加索引保存的是主索引的值。InnoDB 的主键范围更大，最大是 MyISAM 的 2 倍。</p>
<h3 id="5-表的具体行数"><a href="#5-表的具体行数" class="headerlink" title="5)表的具体行数"></a>5)表的具体行数</h3><p>MyISAM：保存有表的总行数，如果 select count() from table;会直接取出改值 InnoDB：没有保存表的总行数(只能遍历)，如果使用 select count() from table;就会遍历整个表，消耗相当大，但是在加了 where 条件之后，MyISAM 和 InnoDB 处理的方式是一样的</p>
<h3 id="6-CURD-操作"><a href="#6-CURD-操作" class="headerlink" title="6)CURD 操作"></a>6)CURD 操作</h3><p>MyISAM：如果执行大量的 SELECT，MyISAM 是更好地选择 InnoDB：如果你的数据执行大量的 INSERT 或 UPDATE，出于性能方面考虑，应该使用 InnoDB 表。DELETE 从性能上 InnoDB 更优，但 DELETE FROM table 时，InnoDB 不会重新建立表，而是一行一行删除，在 InnoDB 上如果要清空保存有大量数据的表，最好使用 truncate table 这个命令</p>
<h3 id="7-外键"><a href="#7-外键" class="headerlink" title="7)外键"></a>7)外键</h3><p>MyISAM：不支持 InnoDB：支持</p>
<h3 id="8-查询效率"><a href="#8-查询效率" class="headerlink" title="8)查询效率"></a>8)查询效率</h3><p>推荐使用 InnoDB</p>
<h3 id="9-MyISAM-和-InnoDB-两者的应用场景"><a href="#9-MyISAM-和-InnoDB-两者的应用场景" class="headerlink" title="9)MyISAM 和 InnoDB 两者的应用场景"></a>9)MyISAM 和 InnoDB 两者的应用场景</h3><ul>
<li>MyISAM 管理非事务表，它提供高速存储和检索，以及全文搜索能力。如果应用中需要执行大量的 SELECT 查询，推荐使用 MyISAM</li>
<li>InnoDB 用于事务处理应用程序，具有众多特性，包括 ACID 事务支持。如果应用中需要执行大量的 INSERT 或者 UPDATE 操作，则应该使用 InnoDB 这样可以提高多用户并发操作的性能，现在默认使用 InnoDB</li>
</ul>
<h1 id="了解字符集中-utf8-和-utf8mb4-的区别"><a href="#了解字符集中-utf8-和-utf8mb4-的区别" class="headerlink" title="了解字符集中 utf8 和 utf8mb4 的区别"></a>了解字符集中 utf8 和 utf8mb4 的区别</h1><p>正常的 utf8 使用的是 1~4 字节的表示方式 但是在 MySQL 中，设计者设计了两个概念</p>
<ul>
<li>utf8，即 utf8mb3：使用的是阉割版 utf8，只使用了 1~3 个字节表示字符</li>
<li>utf8mb4：就是上面正宗的 utf8，使用 1~4 个字节表示 当需要使用到类似于 emoji 等表情，就需要使用 utf8mb4</li>
</ul>
<h2 id="字符集的查看"><a href="#字符集的查看" class="headerlink" title="字符集的查看"></a>字符集的查看</h2><p>使用命令 show character set;或者 show charset;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show character set;</span><br><span class="line">+----------+---------------------------------+---------------------+--------+</span><br><span class="line">| Charset  | Description                     | Default collation   | Maxlen |</span><br><span class="line">+----------+---------------------------------+---------------------+--------+</span><br><span class="line">| armscii8 | ARMSCII-8 Armenian              | armscii8_general_ci |      1 |</span><br><span class="line">| ascii    | US ASCII                        | ascii_general_ci    |      1 |</span><br><span class="line">| big5     | Big5 Traditional Chinese        | big5_chinese_ci     |      2 |</span><br><span class="line">| binary   | Binary pseudo charset           | binary              |      1 |</span><br><span class="line">| cp1250   | Windows Central European        | cp1250_general_ci   |      1 |</span><br><span class="line">| cp1251   | Windows Cyrillic                | cp1251_general_ci   |      1 |</span><br><span class="line">| cp1256   | Windows Arabic                  | cp1256_general_ci   |      1 |</span><br><span class="line">| cp1257   | Windows Baltic                  | cp1257_general_ci   |      1 |</span><br><span class="line">| cp850    | DOS West European               | cp850_general_ci    |      1 |</span><br><span class="line">| cp852    | DOS Central European            | cp852_general_ci    |      1 |</span><br><span class="line">| cp866    | DOS Russian                     | cp866_general_ci    |      1 |</span><br><span class="line">| cp932    | SJIS for Windows Japanese       | cp932_japanese_ci   |      2 |</span><br><span class="line">| dec8     | DEC West European               | dec8_swedish_ci     |      1 |</span><br><span class="line">| eucjpms  | UJIS for Windows Japanese       | eucjpms_japanese_ci |      3 |</span><br><span class="line">| euckr    | EUC-KR Korean                   | euckr_korean_ci     |      2 |</span><br><span class="line">| gb18030  | China National Standard GB18030 | gb18030_chinese_ci  |      4 |</span><br><span class="line">| gb2312   | GB2312 Simplified Chinese       | gb2312_chinese_ci   |      2 |</span><br><span class="line">| gbk      | GBK Simplified Chinese          | gbk_chinese_ci      |      2 |</span><br><span class="line">| geostd8  | GEOSTD8 Georgian                | geostd8_general_ci  |      1 |</span><br><span class="line">| greek    | ISO 8859-7 Greek                | greek_general_ci    |      1 |</span><br><span class="line">| hebrew   | ISO 8859-8 Hebrew               | hebrew_general_ci   |      1 |</span><br><span class="line">| hp8      | HP West European                | hp8_english_ci      |      1 |</span><br><span class="line">| keybcs2  | DOS Kamenicky Czech-Slovak      | keybcs2_general_ci  |      1 |</span><br><span class="line">| koi8r    | KOI8-R Relcom Russian           | koi8r_general_ci    |      1 |</span><br><span class="line">| koi8u    | KOI8-U Ukrainian                | koi8u_general_ci    |      1 |</span><br><span class="line">| latin1   | cp1252 West European            | latin1_swedish_ci   |      1 |</span><br><span class="line">| latin2   | ISO 8859-2 Central European     | latin2_general_ci   |      1 |</span><br><span class="line">| latin5   | ISO 8859-9 Turkish              | latin5_turkish_ci   |      1 |</span><br><span class="line">| latin7   | ISO 8859-13 Baltic              | latin7_general_ci   |      1 |</span><br><span class="line">| macce    | Mac Central European            | macce_general_ci    |      1 |</span><br><span class="line">| macroman | Mac West European               | macroman_general_ci |      1 |</span><br><span class="line">| sjis     | Shift-JIS Japanese              | sjis_japanese_ci    |      2 |</span><br><span class="line">| swe7     | 7bit Swedish                    | swe7_swedish_ci     |      1 |</span><br><span class="line">| tis620   | TIS620 Thai                     | tis620_thai_ci      |      1 |</span><br><span class="line">| ucs2     | UCS-2 Unicode                   | ucs2_general_ci     |      2 |</span><br><span class="line">| ujis     | EUC-JP Japanese                 | ujis_japanese_ci    |      3 |</span><br><span class="line">| utf16    | UTF-16 Unicode                  | utf16_general_ci    |      4 |</span><br><span class="line">| utf16le  | UTF-16LE Unicode                | utf16le_general_ci  |      4 |</span><br><span class="line">| utf32    | UTF-32 Unicode                  | utf32_general_ci    |      4 |</span><br><span class="line">| utf8     | UTF-8 Unicode                   | utf8_general_ci     |      3 |</span><br><span class="line">| utf8mb4  | UTF-8 Unicode                   | utf8mb4_0900_ai_ci  |      4 |</span><br><span class="line">+----------+---------------------------------+---------------------+--------+</span><br><span class="line">41 rows in set (0.01 sec)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>更新: 2024-01-23 06:40:42<br>原文: <a target="_blank" rel="noopener" href="https://www.yuque.com/zacharyblock/cx2om6/ovcglbg23nxq6bkh">https://www.yuque.com/zacharyblock/cx2om6/ovcglbg23nxq6bkh</a></p>
</blockquote>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>Zachary Block</span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>Permalink:</span>
                        <span><a href="https://blockzachary.github.io/blog/3942895021/">https://blockzachary.github.io/blog/3942895021/</a></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2019 <a target="_blank" rel="noopener" href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/MySQL/"># MySQL</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/blog/2739483575/">DML 与 DQL</a>
            
            
            <a class="next" rel="next" href="/blog/984112988/">Python - ATM 项目</a>
            
        </section>


    </article>
</div>

<script src="/js/clipboard.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        var codeBlocks = document.querySelectorAll('article .code pre');

        codeBlocks.forEach(function (codeBlock) {
            var copyButton = document.createElement('button');
            copyButton.className = 'copy-button';
            copyButton.innerText = 'Copy';

            // Check if the code block is in the article content
            if (codeBlock.closest('article')) {
                codeBlock.parentNode.style.position = 'relative';
                codeBlock.parentNode.appendChild(copyButton); // 将按钮添加到 codeBlock 的父节点内

                var isCopying = false;

                copyButton.addEventListener('click', function () {
                    if (!isCopying) {
                        var codeText = codeBlock.innerText;
                        navigator.clipboard.writeText(codeText).then(function () {
                            copyButton.innerText = 'Copied!';
                            isCopying = true;
                            setTimeout(function () {
                                copyButton.innerText = 'Copy';
                                isCopying = false;
                            }, 1500);
                        }).catch(function (err) {
                            console.error('Copy failed', err);
                        });
                    }
                });
            }
        });
    });
</script>

<style>
    .copy-button {
        position: absolute;
        top: 0;
        right: 0;
        background-color: #2d96bd;
        color: #fff;
        border: none;
        border-radius: 10%;
        padding: 5px 10px;
        cursor: pointer;
    }
</style>
            </div>
            <footer id="footer" class="footer">
    <div class="copyright">
        <span>© Zachary Block | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

    </div>

    <!-- Chic/layout.ejs -->
    <div id="u-search">
        <div class="modal">
            <div class="modal-header">
                <div class="container">
                    <form id="u-search-modal-form" class="u-search-modal-form">
                        <button type="submit" class="form-submit-btn">
                            <img src="/" class="search-btn-img" />
                        </button>
                        <input placeholder="搜索文章。。。" class="form-input" id="modal-form-input">
                    </form>
                    <a class="modal-close">x</a>
                </div>
                <div class="search-loading">
                    <div class="search-loading-bar"></div>
                </div>
            </div>
            <div class="modal-body">
                <!-- ul 格式如下 -->
                <!-- <ul class="modal-results">
                    <li class="result-item">
                        <a class="result-item-detail">
                            <span class="title">页面配置</span>
                            <span class="content">
                                content
                            </span>
                        </a>
                    </li>
                </ul> -->
            </div>
        </div>
        <div class="modal-overlay"></div>
    </div>
</body>

</html>